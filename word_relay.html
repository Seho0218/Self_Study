<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>ëë§ì‡ê¸°</title>
</head>

<body>
  <div><span id="order">1</span>ë²ˆì§¸ ì°¸ê°€ì</div>
  <div>ì œì‹œì–´: <span id="word"></span></div>
  <input type="text">
  <button>ì…ë ¥</button>
  <script>
    const number = Number(prompt('ëª‡ ëª…ì´ ì°¸ê°€í•˜ë‚˜ìš”?'));
        const $button = document.querySelector('button');
        const $input = document.querySelector('input');// html íƒœê·¸ë¥¼ ë³€ìˆ˜ì— ë„£ì„ë•Œ $ 
        const $word = document.querySelector('#word');
        const $order = document.querySelector('#order');
        let word;//ì œì‹œì–´
        let newWord;//ìƒˆë¡œ ì…ë ¥í•œ ë‹¨ì–´

        const onClickButton = () => {//ì œì‹œì–´ê°€ ë¹„ì–´ ìˆëŠ”ê°€?
            if(!word) {
                //ë¹„ì–´ ìˆë‹¤
                word = newWord; //ì…ë ¥í•œ ë‹¨ì–´ê°€ ì œì‹œì–´ê°€ ëœë‹¤
                $word.textContent = word;//span íƒœê·¸ë¶€ë¶„ì— wordë³€ìˆ˜ ì¶œë ¥
                $input.value = '';//ì œì‹œì–´ ì…ë ¥ í›„ ì…ë ¥ì°½ í´ë¦¬ì–´
                const order = Number($order.textContent);//í˜„ì¬ ìˆœì„œ íŒŒì•… -> ì²« ì œì‹œì–´ë‹ˆê¹Œ
                if (order === number) {
                    $order.textContent = 1;//ë¬¸ìì—´ë¡œ ìë™ í˜•ë³€í™˜
                } else {
                    $order.textContent = order + 1;
                }
                $input.focus();//ì…ë ¥ì°½ì„ ë¹„ìš°ê³  ì»¤ì„œë¥¼ ë‘”ë‹¤
            } else {
                //ë¹„ì–´ ìˆì§€ ì•Šë‹¤
                if (word[word.length-1] === newWord[0]) {
                    //ì…ë ¥ì œì‹œì–´ê°€ ì˜¬ë°”ë¥´ë‹¤
                    word = newWord; //ì…ë ¥í•œ ë‹¨ì–´ê°€ ì œì‹œì–´ê°€ ëœë‹¤
                    $word.textContent = word;//span íƒœê·¸ë¶€ë¶„ì— wordë³€ìˆ˜ ì¶œë ¥
                    $input.value = '';//ì œì‹œì–´ ì…ë ¥ í›„ ì…ë ¥ì°½ í´ë¦¬ì–´
                    const order = Number($order.textContent);//í˜„ì¬ ìˆœì„œ íŒŒì•… -> ì²« ì œì‹œì–´ë‹ˆê¹Œ
                    if (order === number) {
                    $order.textContent = 1;//ë¬¸ìì—´ë¡œ ìë™ í˜•ë³€í™˜
                    } else {
                        $order.textContent = order + 1;
                    }
                    $input.focus();//ì…ë ¥ì°½ì„ ë¹„ìš°ê³  ì»¤ì„œë¥¼ ë‘”ë‹¤
                } else {
                    //ì…ë ¥ì œì‹œì–´ê°€ ì˜¬ë°”ë¥´ì§€ ì•Šë‹¤
                    alert('í‹€ë ¸ìŠµë‹ˆë‹¤!ğŸ˜')
                    $input.value = '';//ì œì‹œì–´ ì…ë ¥ í›„ ì…ë ¥ì°½ í´ë¦¬ì–´
                    $input.focus();//ì…ë ¥ì°½ì„ ë¹„ìš°ê³  ì»¤ì„œë¥¼ ë‘”ë‹¤
                }
            }
        };

        const onInput = (event) => {
            newWord = event.target.value; //ì…ë ¥í•œ ë‹¨ì–´ë¥¼ í˜„ì¬ ë‹¨ì–´ë¡œ
        };

        $button.addEventListener('click', onClickButton);//ë¬¸ìì—´, (í•¨ìˆ˜)
        $input.addEventListener('input', onInput);//í˜¸ì¶œë ë•Œë§ˆë‹¤ í•¨ìˆ˜ ì‹¤í–‰
  </script>
</body>
</html>